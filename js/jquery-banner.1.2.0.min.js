/*! jQuery-banner V1.2 beta | (c) 2016-2025  jQuery plug-in | lzmoop 2016-7 */
jQuery.fn.banner=function(f,d,j){var e=jQuery(this),i=e.children().first(),h=i.children();z={len:0,btnW:0,imgW:0,imgH:0,addmethods:function(){this.imgW=e.width();this.imgH=e.height();this.len=i.children().length;e.hide().css("position","relative");i.css("position","absolute").addClass("jquery-bannerImg").children().css("position","absolute").addClass("jquery-bannerImg-images")},addwidget:function(){var a="<ul class='jquery-bannerBtn'><li class='jquery-bannerBtn-left'>&lt;</li><li class='jquery-bannerBtn-right'>&gt;</li></ul>";e.append(a)},addBtn:function(){var b=jQuery("<ul class='jquery-bannerPoint'></ul>");e.append(b.get(0));point="<li class='jquery-bannerPoint-point'></li>";for(var a=0;a<this.len;a++){b.append(point);this.btnW+=b.find("li").eq(a).outerWidth(true)}},layout:function(){var a=e.find("ul").last();a.css("width",this.btnW).find("li").eq(0).addClass("jquery-bannerPoint-hover");i.children().css("zIndex",0).eq(0).css("zIndex",30);i.nextAll().css("zIndex",50);e.show()},init:function(){this.addmethods();this.addwidget();this.addBtn();this.layout()}};var g={effect:null,interval:null,duration:null,auto:null,cycle:null,time:null,cPoint:0,sPoint:0,flag:true,imgHide:{zIndex:0},imgShow:{zIndex:30},changeFlag:function(){g.flag=true},btnChange:function(a){if(a=="left"||a=="up"||a=="fade"||a=="cut"){g.sPoint>z.len-2&&(g.sPoint=-1)}else{g.sPoint<0&&(g.sPoint=z.len-1)}},indexChange:function(a){if(a=="left"||a=="up"||a=="fade"||a=="cut"){g.sPoint<z.len-2?g.sPoint++:g.sPoint=-1}else{(g.sPoint>0&&g.sPoint<=z.len-1)?g.sPoint--:g.sPoint=z.len-1}},effectParam:function(a){var b=[];if(a=="left"||a=="fade"||a=="cut"){b.push(g.sPoint+1);b.push({left:z.imgW});b.push({left:-z.imgW});b.push({left:0})}else{if(a=="right"){b.push(g.sPoint-1);b.push({left:-z.imgW});b.push({left:z.imgW});b.push({left:0})}else{if(a=="up"){b.push(g.sPoint+1);b.push({top:z.imgH});b.push({top:-z.imgH});b.push({top:0})}else{if(a=="down"){b.push(g.sPoint-1);b.push({top:-z.imgH});b.push({top:z.imgH});b.push({top:0})}}}}return b},effectAll:function(a){g.btnChange(a);var c=e.find("ul").last().find("li");var b=g.effectParam(a);c.removeClass("jquery-bannerPoint-hover");c.eq(b[0]).addClass("jquery-bannerPoint-hover");if(g.effect=="fade"){h.css("zIndex",0);h.eq(g.sPoint).css("zIndex",30);h.eq(b[0]).css({zIndex:35,display:"none"}).fadeIn(g.duration)}else{if(g.effect=="cut"){h.css("zIndex",0);h.eq(b[0]).css("zIndex",30)}else{h.css(b[3]);h.css(g.imgHide);h.eq(g.sPoint).css(g.imgShow);h.eq(b[0]).css(b[1]);h.eq(b[0]).css(g.imgShow);h.eq(g.sPoint).animate(b[2],g.duration);h.eq(b[0]).animate(b[3],g.duration)}}g.indexChange(a)},pointParam:function(a){var b=[];if(a=="left"||a=="fade"||a=="cut"||a=="right"){b.push({left:z.imgW});b.push({left:-z.imgW});b.push({left:0})}else{if(a=="up"||a=="down"){b.push({top:z.imgH});b.push({top:-z.imgH});b.push({top:0})}}return b},pointChange:function(a){g.sPoint<0&&(g.sPoint=z.len-1);var c=e.find("ul").last().find("li");c.removeClass("jquery-bannerPoint-hover");c.eq(g.cPoint).addClass("jquery-bannerPoint-hover");h.css("zIndex",0);h.eq(g.sPoint).css("zIndex",30);var b=g.pointParam(a);h.css(b[2]);if(g.effect=="fade"){h.eq(g.cPoint).css({zIndex:35,display:"none"}).fadeIn(g.duration)}else{if(g.effect=="cut"){h.eq(g.cPoint).css("zIndex",35)}else{if(g.cPoint>g.sPoint){h.eq(g.cPoint).css("zIndex",30);h.eq(g.cPoint).css(b[0]);h.eq(g.sPoint).animate(b[1],g.duration);h.eq(g.cPoint).animate(b[2],g.duration)}else{if(g.cPoint<g.sPoint){h.eq(g.cPoint).css("zIndex",30);h.eq(g.cPoint).css(b[1]);h.eq(g.sPoint).animate(b[0],g.duration);h.eq(g.cPoint).animate(b[2],g.duration)}}}}g.sPoint=g.cPoint},clickPoint:function(){e.find("ul").last().find("li").on("click",function(){g.effect==null&&(g.effect="left");if(g.flag){g.cPoint=jQuery(this).index();g.pointChange(g.effect);g.flag=false;setTimeout(g.changeFlag,g.duration)}})},click:function(){if(g.effect=="up"||g.effect=="down"){var b="down";var a="up"}else{var b="right";var a="left"}e.find("ul").last().prev().find("li").eq(0).on("click",function(){if(g.flag&&((g.cycle==null||g.cycle)||(!g.cycle&&g.sPoint!=0))){g.cPoint=g.sPoint;g.effectAll(b);g.flag=false;setTimeout(g.changeFlag,g.duration)}});e.find("ul").last().prev().find("li").eq(1).on("click",function(){if(g.flag&&((g.cycle==null||g.cycle)||(!g.cycle&&g.sPoint<z.len-1&&g.sPoint!=-1))){g.cPoint=g.sPoint;g.effectAll(a);g.flag=false;setTimeout(g.changeFlag,g.duration)}})},autoPlay:function(){g.effect==null&&(g.effect="left");g.effectAll(g.effect)},pause:function(){e.on("mouseover",function(){clearInterval(g.time);g.time=null});e.on("mouseout",function(){(typeof(g.auto)!="boolean"&&g.auto!=null)&&jQuery.error("自动播放参数设置错误");(g.auto||g.auto==null)&&(g.time=setInterval(g.autoPlay,g.interval))});(typeof(g.auto)!="boolean"&&g.auto!=null)&&jQuery.error("自动播放参数设置错误");(g.auto||g.auto==null)&&(g.time=setInterval(g.autoPlay,g.interval))},initParam:function(){if(typeof(f)=="object"){g.effect=f.effect;g.interval=f.interval;g.duration=f.duration;g.auto=f.auto;g.cycle=f.cycle}else{g.effect=f;g.interval=d;g.duration=j}!isNaN(g.effect)&&(g.effect=null,g.interval=f,g.duration=d);(g.effect=="fast"||g.effect=="medium"||g.effect=="slow")&&(g.effect=null,g.interval=f,g.duration=g.interval);g.interval=="fast"&&(g.interval=1500,g.duration=300);g.interval=="medium"&&(g.interval=3000,g.duration=600);g.interval=="slow"&&(g.interval=6000,g.duration=1200);g.interval==null&&(g.interval=3000,g.duration=600);g.duration==null&&(g.duration=600);(g.duration>g.interval)&&jQuery.error("参数错误 动画间隔小于动画速度");(isNaN(g.interval)||isNaN(g.duration))&&jQuery.error("参数设置错误 非有效值")},init:function(){g.initParam();g.pause();g.click();g.clickPoint()}};z.init();g.init()};
